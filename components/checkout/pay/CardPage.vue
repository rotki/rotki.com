<script setup lang="ts">
const { token, step, plan, pending, submit } = useBraintree();
</script>

<template>
  <PaymentFrame :loading="!token" :step="step">
    <CardPayment
      v-if="token && plan"
      :plan="plan"
      :token="token"
      @pay="submit($event)"
      @update:pending="pending = $event"
    />
  </PaymentFrame>
</template>
